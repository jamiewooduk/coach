<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ambr - Roleplay Prototype: Difficult Performance Conversation</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { font-family: Arial, sans-serif; }
        .container { max-width: 800px; margin: 0 auto; padding: 20px; }
        .step { display: none; }
        .step.active { display: block; }
        .btn { background-color: #E65C00; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; }
        .btn:hover { background-color: #993D00; }
    </style>
</head>
<body class="bg-gray-100">
    <nav class="bg-white shadow-lg p-4">
        <img src="https://unicorn-cdn.b-cdn.net/e9bd57de-a14a-4499-9320-bc46ae85f19b/ambrgradientlogo.png" alt="Ambr Logo" class="h-8">
    </nav>

    <div class="container">
        <h1 class="text-3xl font-bold mb-4 text-center">Welcome to Our Prototype Test!</h1>
        <p class="text-xl text-gray-600 mb-8 text-center">Practice a Difficult Performance Conversation</p>

        <div id="step1" class="step active">
            <h2 class="text-2xl font-semibold mb-4">Important Instructions</h2>
            <p>Thank you for testing our Manager Development prototype. Your feedback is invaluable in helping us improve this concept.</p>
            <p><strong>Please note:</strong> Your interactions are completely confidential.</p>
            <button onclick="nextStep()" class="btn mt-4">Next</button>
        </div>

        <div id="step2" class="step">
            <h2 class="text-2xl font-semibold mb-4">How to Complete This Task</h2>
            <ol class="list-decimal list-inside">
                <li>Read the scenario details carefully.</li>
                <li>Click the "Start Roleplay" button to begin the conversation.</li>
                <li>Respond using your voice, simulating the conversation based on the scenario.</li>
                <li>When finished, end the conversation and provide feedback.</li>
            </ol>
            <button onclick="prevStep()" class="btn mt-4">Previous</button>
            <button onclick="nextStep()" class="btn mt-4 ml-4">Next</button>
        </div>

        <div id="step3" class="step">
            <h2 class="text-2xl font-semibold mb-4">Roleplay Scenario</h2>
            <p>You are a manager meeting with Joe, who has been missing deadlines. Your goal is to provide constructive feedback and discuss ways to improve performance.</p>
            <h3 class="text-xl font-semibold mt-4 mb-2">Key Points to Remember:</h3>
            <ul class="list-disc list-inside">
                <li>Be specific and use concrete examples</li>
                <li>Focus on behaviors and outcomes</li>
                <li>Listen actively and encourage dialogue</li>
                <li>Set clear, actionable goals for improvement</li>
            </ul>
            <button onclick="prevStep()" class="btn mt-4">Previous</button>
            <button onclick="nextStep()" class="btn mt-4 ml-4">Start Roleplay</button>
        </div>

        <div id="step4" class="step">
            <h2 class="text-2xl font-semibold mb-4">Start Your Roleplay</h2>
            <div id="vapi-container" class="my-4"></div>
            <h2 class="text-2xl font-semibold mt-8 mb-4">Provide Feedback</h2>
            <p>After completing your roleplay, please provide feedback on your experience.</p>
            <a href="https://forms.gle/vZV5y3XgoKVnyiF29" class="btn inline-block mt-4">Open Feedback Form</a>
            <button onclick="prevStep()" class="btn mt-4 ml-4">Previous</button>
        </div>

        <div class="bg-gray-200 p-4 rounded-lg text-center mt-8">
            <p>Remember: This is a safe space to practice. Take your time, and don't hesitate to try different approaches.</p>
        </div>
    </div>

    <script>
        let currentStep = 1;
        function showStep(step) {
            document.querySelectorAll('.step').forEach(el => el.classList.remove('active'));
            document.getElementById('step' + step).classList.add('active');
            if (step === 4 && !window.vapiInitialized) {
                initializeVapi();
            }
        }
        function nextStep() {
            if (currentStep < 4) {
                currentStep++;
                showStep(currentStep);
            }
        }
        function prevStep() {
            if (currentStep > 1) {
                currentStep--;
                showStep(currentStep);
            }
        }
        function initializeVapi() {
            const script = document.createElement('script');
            script.src = "https://cdn.jsdelivr.net/gh/VapiAI/html-script-tag@latest/dist/assets/index.js";
            script.onload = function () {
                window.vapiSDK.run({
                    apiKey: "1c16ffea-c397-4479-b065-df8d9f3c0a89",
                    assistant: "e917efb3-79a7-4c89-a8c1-d283ace25072",
                    renderElement: document.getElementById('vapi-container')
                });
                window.vapiInitialized = true;
            };
            document.body.appendChild(script);
        }
    </script>
</body>
</html>
